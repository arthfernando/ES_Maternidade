CREATE TABLE medico(
	crm VARCHAR(6) PRIMARY KEY,
	nome VARCHAR(100) NOT NULL
);

CREATE TABLE gestante(
	cpf VARCHAR(11) PRIMARY KEY,
	nome VARCHAR(100) NOT NULL,
	data_nasc DATE NOT NULL,
	telefone VARCHAR(11) NOT NULL,
	crm_medico VARCHAR(6) NOT NULL,
	FOREIGN KEY(crm_medico)REFERENCES medico(crm) ON DELETE CASCADE
);

CREATE TABLE bercario(
	num_bercario INTEGER NOT NULL PRIMARY KEY,
	num_berco INTEGER NOT NULL UNIQUE
);

CREATE TABLE bebe(
	reg_bebe SERIAL PRIMARY KEY,
	nome VARCHAR(100) NOT NULL,
	peso FLOAT NOT NULL,
	sexo BOOL NOT NULL,
	altura FLOAT NOT NULL,
	data_nasc DATE NOT NULL,
	hora_nasc TIME NOT NULL,
	tipo_parto BOOL NOT NULL,
	cpf_gestante VARCHAR(11) NOT NULL,
	num_bercario INTEGER NOT NULL,
	FOREIGN KEY (cpf_gestante)REFERENCES gestante(cpf) ON DELETE CASCADE,
	FOREIGN KEY (num_bercario)REFERENCES bercario(num_bercario) ON DELETE CASCADE
);


CREATE TABLE pessoa(
	cpf VARCHAR(11) NOT NULL PRIMARY KEY,
	nome VARCHAR(100) NOT NULL,
	parentesco VARCHAR(50) NOT NULL,
	data_nasc DATE NOT NULL,
	cpf_gestante VARCHAR(11) NOT NULL,
	FOREIGN KEY(cpf_gestante)REFERENCES gestante(cpf) ON DELETE CASCADE
);

CREATE TABLE contato(
	telefone VARCHAR(11) NOT NULL PRIMARY KEY,
	cpf_gestante VARCHAR(11) NOT NULL,
	cpf_pessoa VARCHAR(11) NOT NULL,
	FOREIGN KEY(cpf_gestante)REFERENCES gestante(cpf) ON DELETE CASCADE,
	FOREIGN KEY(cpf_pessoa)REFERENCES pessoa(cpf) ON DELETE CASCADE
);
